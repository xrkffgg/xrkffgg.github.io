(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{188:function(a,t,e){"use strict";e.r(t);var r=e(0),s=Object(r.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"_12-canvaså›¾ç‰‡å¤„ç†ä¹‹é»‘ç™½ã€åå‘ï¼ˆé™„æ¼”ç¤ºåŠæºç ï¼‰"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-canvaså›¾ç‰‡å¤„ç†ä¹‹é»‘ç™½ã€åå‘ï¼ˆé™„æ¼”ç¤ºåŠæºç ï¼‰","aria-hidden":"true"}},[a._v("#")]),a._v(" 12. Canvaså›¾ç‰‡å¤„ç†ä¹‹é»‘ç™½ã€åå‘ï¼ˆé™„æ¼”ç¤ºåŠæºç ï¼‰")]),a._v(" "),e("h2",{attrs:{id:"_1-å‰-è¨€"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-å‰-è¨€","aria-hidden":"true"}},[a._v("#")]),a._v(" 1 å‰ è¨€")]),a._v(" "),e("h3",{attrs:{id:"_1-1-é¢„è§ˆå›¾"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-é¢„è§ˆå›¾","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.1 é¢„è§ˆå›¾")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/12-1.gif?raw=true",alt:""}})]),a._v(" "),e("h2",{attrs:{id:"_2-å®-ç°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-å®-ç°","aria-hidden":"true"}},[a._v("#")]),a._v(" 2 å® ç°")]),a._v(" "),e("p",[a._v("æœ¬ä¾‹ä½¿ç”¨ï¼š")]),a._v(" "),e("ul",[e("li",[a._v("Vue")]),a._v(" "),e("li",[a._v("element-ui")])]),a._v(" "),e("h3",{attrs:{id:"_2-1-ç”»-å›¾"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ç”»-å›¾","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1 ç”» å›¾")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('\x3c!--canvas å®šä¹‰--\x3e\n<canvas id="canvas01" width="400" height="400"></canvas>\n')])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("//  vue ç”Ÿå‘½å‘¨æœŸ\nmounted(){\n    this.drawCanvas()\n},\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("drawCanvas(){\n    var cav = document.getElementById('canvas01')\n    var ctx = cav.getContext('2d')\n    var img = new Image()\n    img.crossOrigin = 'anonymous'\n    // è¿™é‡Œçš„ url æŒ‡å‘äº† æˆ‘ GitHub å¤´åƒåœ°å€\n    img.src = this.url + '?time=' + new Date().getTime()\n    img.onload = () =>{\n        if(img.complete){\n            ctx.drawImage(img,0,0,img.width,img.height)\n            setTimeout(() =>{\n                // ä¿å­˜åŸå§‹åƒç´ ä¿¡æ¯\n                this.imagePixels = [...ctx.getImageData(0,0,cav.width,cav.height).data]\n            },1)\n        }\n    }\n}\n")])])]),e("p",[e("strong",[a._v("æ³¨æ„ï¼š")])]),a._v(" "),e("ul",[e("li",[a._v("canvas é¡»è®¾ç½® "),e("code",[a._v("width")]),a._v(" "),e("code",[a._v("height")])]),a._v(" "),e("li",[a._v("è‹¥ä½ çš„é¡¹ç›®ä¸­ï¼Œæœ‰å¤šä¸ª "),e("code",[a._v("canvas")]),a._v(" ç”»å›¾ï¼Œæ³¨æ„ "),e("code",[a._v("id")]),a._v(" å®šä¹‰è¦ä¸åŒ")]),a._v(" "),e("li",[a._v("ç”Ÿå‘½é’©å­ä¸èƒ½ä½¿ç”¨ "),e("code",[a._v("created()")])]),a._v(" "),e("li",[e("code",[a._v("img.crossOrigin")]),a._v(" "),e("code",[a._v("img.src ?time=")]),a._v(" æ˜¯ä¸ºäº†è§£å†³ å›¾ç‰‡è·¨åŸŸçš„é—®é¢˜")]),a._v(" "),e("li",[a._v("ä¸ºä¸å½±å“å›¾ç‰‡æ¸²æŸ“ï¼Œä¿å­˜åƒç´ ä¿¡æ¯çš„åŠ¨ä½œï¼Œæ”¾åœ¨å¼‚æ­¥ä¸­æ‰§è¡Œ")])]),a._v(" "),e("blockquote",[e("p",[a._v("è‹¥åªæ˜¯ç”¨ "),e("code",[a._v("canvas")]),a._v(" ç”»å›¾ï¼Œåˆ™ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œè¿™é‡Œçš„å®šä¹‰æ˜¯å› ä¸ºè¦è·å–åƒç´ ä¿¡æ¯")])]),a._v(" "),e("h3",{attrs:{id:"_2-2-é»‘-ç™½"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-é»‘-ç™½","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.2 é»‘ ç™½")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var cav = document.getElementById('canvas01')\nvar ctx = cav.getContext('2d')\nlet imageData = ctx.getImageData(0,0,cav.width,cav.height)\nlet pixels = imageData.data\n\n// å¤„ç†åƒç´ ç‚¹\nfor (let i=0; i<pixels.length; i+=4){\n    let r = pixels[i]\n    let g = pixels[i+1]\n    let b = pixels[i+2]\n\n    // ç°è‰²\n    let gray = parseInt((r+g+b)/3)\n    imageData.data[i] = gray\n    imageData.data[i+1] = gray\n    imageData.data[i+2] = gray\n}\n// é‡æ–°ç”»å›¾\nctx.putImageData(imageData, 0,0)\n")])])]),e("h3",{attrs:{id:"_2-3-å…¶ä»–"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-å…¶ä»–","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.3 å…¶ä»–")]),a._v(" "),e("p",[e("strong",[a._v("å½©è‰²ï¼š")]),a._v(" ç”¨ç›¸åŒçš„æ–¹æ³•ï¼Œå°†ä¹‹å‰ä¿å­˜çš„åŸå§‹åƒç´ æ¢å¤å›å»")]),a._v(" "),e("p",[e("strong",[a._v("åå‘ï¼š")]),a._v(" 255 - åŸå€¼")]),a._v(" "),e("blockquote",[e("p",[a._v("è¿˜æœ‰å¾ˆå¤šçš„å›¾ç‰‡å¤„ç†ï¼Œæ˜¯å°†å›¾ç‰‡çš„ "),e("code",[a._v("r")]),a._v(" "),e("code",[a._v("g")]),a._v(" "),e("code",[a._v("b")]),a._v(" è¿›è¡Œä¸åŒå¤„ç†")])]),a._v(" "),e("h2",{attrs:{id:"_3-å-è®°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-å-è®°","aria-hidden":"true"}},[a._v("#")]),a._v(" 3 å è®°")]),a._v(" "),e("p",[e("strong",[a._v("æ„Ÿè°¢æ”¯æŒã€‚è‹¥ä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿å¤§å®¶æŒ‡å‡ºï¼Œå…±å‹‰ã€‚")])]),a._v(" "),e("p",[e("strong",[a._v("å¦‚æœè§‰å¾—ä¸é”™ï¼Œè®°å¾— ç‚¹èµï¼Œè°¢è°¢å¤§å®¶")]),a._v(" ğŸ˜‚")]),a._v(" "),e("blockquote",[e("p",[e("strong",[a._v("æ¬¢è¿å…³æ³¨ æˆ‘çš„ï¼š")]),a._v(" "),e("a",{attrs:{href:"https://github.com/xrkffgg",target:"_blank",rel:"noopener noreferrer"}},[a._v("GitHub"),e("OutboundLink")],1),a._v(" "),e("a",{attrs:{href:"https://juejin.im/user/59c369496fb9a00a4843a3e2",target:"_blank",rel:"noopener noreferrer"}},[a._v("æ˜ é‡‘"),e("OutboundLink")],1),a._v(" "),e("a",{attrs:{href:"https://www.jianshu.com/u/4ca4daac5890",target:"_blank",rel:"noopener noreferrer"}},[a._v("ç®€ ä¹¦"),e("OutboundLink")],1)])]),a._v(" "),e("h3",{attrs:{id:"_3-1-æ¼”ç¤ºåœ°å€"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-æ¼”ç¤ºåœ°å€","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.1 æ¼”ç¤ºåœ°å€")]),a._v(" "),e("p",[a._v("https://xrkffgg.github.io/Kvue/#/Canvas/001")]),a._v(" "),e("h3",{attrs:{id:"_3-2-æº-ç "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-æº-ç ","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.2 æº ç ")]),a._v(" "),e("p",[a._v("https://github.com/xrkffgg/Kvue/blob/master/src/components/canvasCom/001.vue")])])},[],!1,null,null,null);t.default=s.exports}}]);