(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{200:function(t,e,a){"use strict";a.r(e);var n=a(0),r=Object(n.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_5-vueä½¿ç”¨canvasç»˜åˆ¶å›¾ç‰‡ã€çŸ©å½¢ã€çº¿æ¡ã€æ–‡å­—ï¼Œä¸‹è½½å›¾ç‰‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-vueä½¿ç”¨canvasç»˜åˆ¶å›¾ç‰‡ã€çŸ©å½¢ã€çº¿æ¡ã€æ–‡å­—ï¼Œä¸‹è½½å›¾ç‰‡","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. Vueä½¿ç”¨Canvasç»˜åˆ¶å›¾ç‰‡ã€çŸ©å½¢ã€çº¿æ¡ã€æ–‡å­—ï¼Œä¸‹è½½å›¾ç‰‡")]),t._v(" "),a("h2",{attrs:{id:"_1-å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å‰è¨€","aria-hidden":"true"}},[t._v("#")]),t._v(" 1 å‰è¨€")]),t._v(" "),a("h3",{attrs:{id:"_1-1-ä¸šåŠ¡åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ä¸šåŠ¡åœºæ™¯","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1 ä¸šåŠ¡åœºæ™¯")]),t._v(" "),a("p",[t._v("å›¾ç‰‡å‚¨å­˜åœ¨åå°ä¸­ï¼Œæ ¹æ®å›¾ç‰‡çš„åœ°å€ï¼Œåœ¨vueé¡µé¢ä¸­ï¼ŒæŸ¥çœ‹å›¾ç‰‡ï¼Œå¹¶æ ¹æ®åæ ‡æ ‡æ³¨æŒ‡å®šåŒºåŸŸã€‚")]),t._v(" "),a("p",[t._v("ç”±äºæµè§ˆå™¨çš„æœºåˆ¶ï¼Œä½¿ç”¨"),a("code",[t._v("window.location.href")]),t._v("ä¸‹è½½å›¾ç‰‡æ—¶ï¼Œå¹¶ä¸ä¼šä¿å­˜åˆ°æœ¬åœ°ï¼Œä¼šåœ¨æµè§ˆå™¨æ‰“å¼€ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2-å®ç°åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å®ç°åŸç†","aria-hidden":"true"}},[t._v("#")]),t._v(" 2 å®ç°åŸç†")]),t._v(" "),a("h3",{attrs:{id:"_2-1-ç»˜åˆ¶ç”»å¸ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ç»˜åˆ¶ç”»å¸ƒ","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.1 ç»˜åˆ¶ç”»å¸ƒ")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<el-dialog\n    title="æŸ¥çœ‹å›¾ç‰‡"\n    :visible.sync="dialogJPG"\n    append-to-body>\n    <canvas id="mycanvas" width="940" height="570"></canvas>\n</el-dialog>\n')])])]),a("p",[t._v("è¿™é‡Œä¸ºäº†äº¤äº’ä½“éªŒï¼Œä½¿ç”¨äº†"),a("code",[t._v("element-ui")]),t._v("çš„å¼¹çª—æ–¹å¼ã€‚å°†canvasç”»å¸ƒæ”¾åˆ°äº†å¼¹çª—ä¸­ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†çªå‡ºç”»å¸ƒæ•ˆæœå¯ä»¥åœ¨cssä¸­è®¾ç½®ä¸€ä¸ªè¾¹æ¡†ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#mycanvas {\n    border: 1px solid rgb(199, 198, 198);\n}\n")])])]),a("h3",{attrs:{id:"_2-2-ç»˜åˆ¶å›¾ç‰‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ç»˜åˆ¶å›¾ç‰‡","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2 ç»˜åˆ¶å›¾ç‰‡")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('//  imageUrlä¸ºåå°æä¾›å›¾ç‰‡åœ°å€\ndoDraw(imageUrl){\n    //  è·å–canvas\n    var canvas = document.getElementById("mycanvas")\n    //  ç”±äºå¼¹çª—ï¼Œç¡®ä¿å·²è·å–åˆ°\n    var a = setInterval(() =>{\n        //  é‡å¤è·å–\n        canvas = document.getElementById("mycanvas")\n        if(!canvas){\n          return false\n        } else {\n            clearInterval(a)\n            //  å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç”»ç¬”ï¼Œå¯ç”»è·¯å¾„ã€çŸ©å½¢ã€æ–‡å­—ã€å›¾åƒ\n            var context = canvas.getContext(\'2d\')\n            var img = new Image()\n            img.src = imageUrl\n            //  åŠ è½½å›¾ç‰‡\n            img.onload = function(){\n                if(img.complete){\n                    //  æ ¹æ®å›¾åƒé‡æ–°è®¾å®šäº†canvasçš„é•¿å®½\n                    canvas.setAttribute("width",img.width)\n                    canvas.setAttribute("height",img.height)\n                    //  ç»˜åˆ¶å›¾ç‰‡\n                    context.drawImage(img,0,0,img.width,img.height)\n                }\n            }\n        }\n    },1)\n},\n')])])]),a("p",[a("code",[t._v("context.drawImage()")]),t._v("æ–¹æ³•çš„å‚æ•°ä»‹ç»ï¼Œå¯å‚ç…§ "),a("a",{attrs:{href:"http://www.w3school.com.cn/html5/canvas_drawimage.asp",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("W3school")]),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"_2-3-ç»˜åˆ¶çŸ©å½¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-ç»˜åˆ¶çŸ©å½¢","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.3 ç»˜åˆ¶çŸ©å½¢")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('context.strokeStyle = "red"\ncontext.lineWidth = 3;\ncontext.strokeRect(x, y, width, height)\n')])])]),a("p",[a("code",[t._v("context")]),t._v(" åŒä¸Šé¢çš„å®šä¹‰")]),t._v(" "),a("p",[a("code",[t._v("strokeStyle")]),t._v(" çŸ©å½¢é¢œè‰²")]),t._v(" "),a("p",[a("code",[t._v("lineWidth")]),t._v(" çŸ©å½¢è¾¹æ¡†å®½åº¦")]),t._v(" "),a("p",[a("code",[t._v("x,y,width,height")]),t._v(" çŸ©å½¢ä½ç½®åŠ é•¿å®½")]),t._v(" "),a("h3",{attrs:{id:"_2-4-ç»˜åˆ¶çº¿æ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-ç»˜åˆ¶çº¿æ¡","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.4 ç»˜åˆ¶çº¿æ¡")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('context.moveTo(x1,y1) \ncontext.lineTo(x2,y2)\ncontext.strokeStyle = "red"\ncontext.lineWidth = 3;\ncontext.stroke()\n')])])]),a("p",[a("code",[t._v("(x1,y1)")]),t._v(" "),a("code",[t._v("(x2,y2)")]),t._v(" çº¿æ¡çš„èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡")]),t._v(" "),a("p",[a("code",[t._v("strokeStyle")]),t._v(" "),a("code",[t._v("lineWidth")]),t._v(" çº¿æ¡çš„æ ·å¼")]),t._v(" "),a("h3",{attrs:{id:"_2-5-ç»˜åˆ¶æ–‡å­—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-ç»˜åˆ¶æ–‡å­—","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.5 ç»˜åˆ¶æ–‡å­—")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("context.font = \"26px Arial bolder\"\ncontext.fillStyle = 'red'\ncontext.fillText(text,x,y)\n")])])]),a("p",[a("code",[t._v("font")]),t._v(" "),a("code",[t._v("fillStyle")]),t._v(" æ–‡å­—æ ·å¼")]),t._v(" "),a("p",[a("code",[t._v("text")]),t._v(" æ–‡å­—å†…å®¹")]),t._v(" "),a("p",[a("code",[t._v("x,y")]),t._v(" æ–‡å­—æ˜¾ç¤ºåæ ‡")]),t._v(" "),a("h3",{attrs:{id:"_2-6-ä¸‹è½½å›¾ç‰‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-ä¸‹è½½å›¾ç‰‡","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.6 ä¸‹è½½å›¾ç‰‡")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// å›¾ç‰‡åœ°å€å’Œå›¾ç‰‡åç§°\ndownIamge (imgsrc, name) { \n    let image = new Image()\n    image.setAttribute('crossOrigin', 'anonymous')\n    image.onload = function () {\n        let canvas = document.createElement('canvas')\n        canvas.width = image.width\n        canvas.height = image.height\n        let context = canvas.getContext('2d')\n        context.drawImage(image, 0, 0, image.width, image.height)\n        let url = canvas.toDataURL('image/jpg') \n        let a = document.createElement('a')\n        let event = new MouseEvent('click')\n        a.download = name\n        a.href = url\n        a.dispatchEvent(event)\n    }\n    image.src = imgsrc\n},\n")])])]),a("h2",{attrs:{id:"_3-åè®°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-åè®°","aria-hidden":"true"}},[t._v("#")]),t._v(" 3 åè®°")]),t._v(" "),a("p",[t._v("è¿™é‡Œåªæ˜¯åˆ—å‡ºcanvasçš„åŸºç¡€ä½¿ç”¨ï¼Œå…·ä½“çš„äº¤äº’å’Œå±•ç¤ºè¿˜éœ€è¦æ›´å¤šçš„è®¾è®¡ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("æ„Ÿè°¢æ”¯æŒã€‚è‹¥ä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿å¤§å®¶æŒ‡å‡ºï¼Œå…±å‹‰ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("å¦‚æœè§‰å¾—ä¸é”™ï¼Œè®°å¾— ç‚¹èµï¼Œè°¢è°¢å¤§å®¶")]),t._v(" ğŸ˜‚")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("æ¬¢è¿å…³æ³¨ æˆ‘çš„ï¼š")]),t._v(" "),a("a",{attrs:{href:"https://github.com/xrkffgg/Tools",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Githubã€‘"),a("OutboundLink")],1),a("a",{attrs:{href:"https://juejin.im/user/59c369496fb9a00a4843a3e2/posts",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€æ˜é‡‘ã€‘"),a("OutboundLink")],1),a("a",{attrs:{href:"https://www.jianshu.com/u/4ca4daac5890",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€ç®€ä¹¦ã€‘"),a("OutboundLink")],1),a("a",{attrs:{href:"https://blog.csdn.net/xrk_ffgg",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€CSDNã€‘"),a("OutboundLink")],1),a("a",{attrs:{href:"https://my.oschina.net/xrkffgg",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€OSCHINAã€‘"),a("OutboundLink")],1),a("a",{attrs:{href:"https://segmentfault.com/u/xrkffgg/articles",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€SFã€‘"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_3-1-å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-å‚è€ƒèµ„æ–™","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1 å‚è€ƒèµ„æ–™")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.w3school.com.cn/tags/tag_canvas.asp",target:"_blank",rel:"noopener noreferrer"}},[t._v("W3school"),a("OutboundLink")],1)])])])},[],!1,null,null,null);e.default=r.exports}}]);