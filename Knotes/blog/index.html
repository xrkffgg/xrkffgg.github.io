<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. JSè®¡ç®—ä¸¤ä¸ªæ—¶é—´é—´éš” | Knotes</title>
    <meta name="description" content="è®° å½•">
    <link rel="icon" href="/Knotes/ico1.png">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/Knotes/assets/css/0.styles.60484e17.css" as="style"><link rel="preload" href="/Knotes/assets/js/app.2293bb01.js" as="script"><link rel="preload" href="/Knotes/assets/js/3.20cef3cc.js" as="script"><link rel="preload" href="/Knotes/assets/js/28.abf2f445.js" as="script"><link rel="prefetch" href="/Knotes/assets/js/1.21ce5fb9.js"><link rel="prefetch" href="/Knotes/assets/js/10.ea9c8203.js"><link rel="prefetch" href="/Knotes/assets/js/11.b3fc1d06.js"><link rel="prefetch" href="/Knotes/assets/js/12.45c50875.js"><link rel="prefetch" href="/Knotes/assets/js/13.130bd95b.js"><link rel="prefetch" href="/Knotes/assets/js/14.24d6f9c5.js"><link rel="prefetch" href="/Knotes/assets/js/15.57d00ebe.js"><link rel="prefetch" href="/Knotes/assets/js/16.9a2fb4b1.js"><link rel="prefetch" href="/Knotes/assets/js/17.d81d5574.js"><link rel="prefetch" href="/Knotes/assets/js/18.cc1c0c1f.js"><link rel="prefetch" href="/Knotes/assets/js/19.5781dca3.js"><link rel="prefetch" href="/Knotes/assets/js/20.338cf3db.js"><link rel="prefetch" href="/Knotes/assets/js/21.6b3f037a.js"><link rel="prefetch" href="/Knotes/assets/js/22.e85e4f21.js"><link rel="prefetch" href="/Knotes/assets/js/23.6351a7f8.js"><link rel="prefetch" href="/Knotes/assets/js/24.9cdf9766.js"><link rel="prefetch" href="/Knotes/assets/js/25.1def0464.js"><link rel="prefetch" href="/Knotes/assets/js/26.a23accce.js"><link rel="prefetch" href="/Knotes/assets/js/27.e539e96f.js"><link rel="prefetch" href="/Knotes/assets/js/29.388f44ec.js"><link rel="prefetch" href="/Knotes/assets/js/30.8b74943b.js"><link rel="prefetch" href="/Knotes/assets/js/31.aa026fd0.js"><link rel="prefetch" href="/Knotes/assets/js/32.20334eb2.js"><link rel="prefetch" href="/Knotes/assets/js/33.add01f78.js"><link rel="prefetch" href="/Knotes/assets/js/34.33824716.js"><link rel="prefetch" href="/Knotes/assets/js/35.441fe104.js"><link rel="prefetch" href="/Knotes/assets/js/36.b1df1dee.js"><link rel="prefetch" href="/Knotes/assets/js/37.9fe72dac.js"><link rel="prefetch" href="/Knotes/assets/js/38.c12ff604.js"><link rel="prefetch" href="/Knotes/assets/js/39.4d2f0695.js"><link rel="prefetch" href="/Knotes/assets/js/4.55c98e72.js"><link rel="prefetch" href="/Knotes/assets/js/40.18e72741.js"><link rel="prefetch" href="/Knotes/assets/js/41.a50623b8.js"><link rel="prefetch" href="/Knotes/assets/js/42.efcd80e1.js"><link rel="prefetch" href="/Knotes/assets/js/43.29d5a0c3.js"><link rel="prefetch" href="/Knotes/assets/js/5.7ef2aae0.js"><link rel="prefetch" href="/Knotes/assets/js/6.70018663.js"><link rel="prefetch" href="/Knotes/assets/js/7.b2c5c5aa.js"><link rel="prefetch" href="/Knotes/assets/js/8.d391edb8.js"><link rel="prefetch" href="/Knotes/assets/js/9.908a8735.js">
    <link rel="stylesheet" href="/Knotes/assets/css/0.styles.60484e17.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Knotes/" class="home-link router-link-active"><!----> <span class="site-name">Knotes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://xrkffgg.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ä¸» é¡µ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®° å½•" class="dropdown-title"><span class="title">è®° å½•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Knotes/blog/" class="nav-link router-link-exact-active router-link-active">æ–‡ ç« </a></li><li class="dropdown-item"><!----> <a href="/Knotes/notes/" class="nav-link">å‚ è€ƒ</a></li><li class="dropdown-item"><!----> <a href="/Knotes/standard/" class="nav-link">è§„ èŒƒ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å­¦ ä¹ " class="dropdown-title"><span class="title">å­¦ ä¹ </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Knotes/learn/" class="nav-link">èµ„ æ–™</a></li><li class="dropdown-item"><!----> <a href="/Knotes/tool/" class="nav-link">å·¥ å…·</a></li><li class="dropdown-item"><!----> <a href="/Knotes/note/" class="nav-link">çŸ¥ è¯†</a></li><li class="dropdown-item"><!----> <a href="/Knotes/life/" class="nav-link">ç”Ÿ æ´»</a></li></ul></div></div><div class="nav-item"><a href="/Knotes/book/list.html" class="nav-link">é˜… è¯»</a></div><div class="nav-item"><a href="/Knotes/course/list.html" class="nav-link">æ•™ ç¨‹</a></div><div class="nav-item"><a href="https://github.com/xrkffgg/Knotes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://xrkffgg.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ä¸» é¡µ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®° å½•" class="dropdown-title"><span class="title">è®° å½•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Knotes/blog/" class="nav-link router-link-exact-active router-link-active">æ–‡ ç« </a></li><li class="dropdown-item"><!----> <a href="/Knotes/notes/" class="nav-link">å‚ è€ƒ</a></li><li class="dropdown-item"><!----> <a href="/Knotes/standard/" class="nav-link">è§„ èŒƒ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å­¦ ä¹ " class="dropdown-title"><span class="title">å­¦ ä¹ </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Knotes/learn/" class="nav-link">èµ„ æ–™</a></li><li class="dropdown-item"><!----> <a href="/Knotes/tool/" class="nav-link">å·¥ å…·</a></li><li class="dropdown-item"><!----> <a href="/Knotes/note/" class="nav-link">çŸ¥ è¯†</a></li><li class="dropdown-item"><!----> <a href="/Knotes/life/" class="nav-link">ç”Ÿ æ´»</a></li></ul></div></div><div class="nav-item"><a href="/Knotes/book/list.html" class="nav-link">é˜… è¯»</a></div><div class="nav-item"><a href="/Knotes/course/list.html" class="nav-link">æ•™ ç¨‹</a></div><div class="nav-item"><a href="https://github.com/xrkffgg/Knotes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ğŸ“„ æ–‡ ç« </span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Knotes/blog/" class="active sidebar-link">1. JSè®¡ç®—ä¸¤ä¸ªæ—¶é—´é—´éš”</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Knotes/blog/#_1-å‰è¨€" class="sidebar-link">1 å‰è¨€</a></li><li class="sidebar-sub-header"><a href="/Knotes/blog/#_2-å®ç°åŸç†" class="sidebar-link">2 å®ç°åŸç†</a></li><li class="sidebar-sub-header"><a href="/Knotes/blog/#_3-åè®°" class="sidebar-link">3 åè®°</a></li></ul></li><li><a href="/Knotes/blog/2.html" class="sidebar-link">2. JSå®ç°é¡µé¢æŸ¥çœ‹zipæ–‡ä»¶ä¸­çš„å†…å®¹</a></li><li><a href="/Knotes/blog/3.html" class="sidebar-link">3. Vue+Elementå‰ç«¯å¯¼å…¥å¯¼å‡ºExcel</a></li><li><a href="/Knotes/blog/4.html" class="sidebar-link">4. Vueç›‘å¬é”®ç›˜é¼ æ ‡äº‹ä»¶</a></li><li><a href="/Knotes/blog/5.html" class="sidebar-link">5. Vueä½¿ç”¨Canvasç»˜åˆ¶å›¾ç‰‡ã€çŸ©å½¢ã€çº¿æ¡ã€æ–‡å­—ï¼Œä¸‹è½½å›¾ç‰‡</a></li><li><a href="/Knotes/blog/6.html" class="sidebar-link">6. vueå…¨å®¶æ¡¶+Echarts+ç™¾åº¦åœ°å›¾ï¼Œæ­å»ºæ•°æ®å¯è§†åŒ–ç³»ç»Ÿ</a></li><li><a href="/Knotes/blog/7.html" class="sidebar-link">7. Vueé¡¹ç›®æ‰“åŒ…ååŠ¨æ€è·å–è‡ªå®šä¹‰å˜é‡</a></li><li><a href="/Knotes/blog/8.html" class="sidebar-link">8. å‰ç«¯å¼•ç”¨å­—ä½“@font-faceçš„è‹¥å¹²ä¼˜åŒ–æ–¹æ³•</a></li><li><a href="/Knotes/blog/9.html" class="sidebar-link">9. vueå…¨å®¶æ¡¶+Echarts+ç™¾åº¦åœ°å›¾ï¼Œæ­å»ºæ•°æ®å¯è§†åŒ–ç³»ç»Ÿï¼ˆã€ç»­ã€‘æ¥å£ç¯‡ï¼‰</a></li><li><a href="/Knotes/blog/10.html" class="sidebar-link">10. Vueé¡¹ç›®å¼•å…¥CreateJSçš„æ–¹æ³•ï¼ˆäº²æµ‹ï¼‰</a></li><li><a href="/Knotes/blog/11.html" class="sidebar-link">11. Element-ui ç®€å•å®ç°è¡¨æ ¼æ»šåŠ¨ï¼ˆé™„æ¼”ç¤ºåŠæºç ï¼‰</a></li><li><a href="/Knotes/blog/12.html" class="sidebar-link">12. Canvaså›¾ç‰‡å¤„ç†ä¹‹é»‘ç™½ã€åå‘ï¼ˆé™„æ¼”ç¤ºåŠæºç ï¼‰</a></li><li><a href="/Knotes/blog/13.html" class="sidebar-link">13. Npm å‘å¸ƒ Vue ç»„ä»¶æ•™ç¨‹</a></li><li><a href="/Knotes/blog/14.html" class="sidebar-link">14. tabindex ç”¨æ³•è¯´æ˜</a></li><li><a href="/Knotes/blog/15.html" class="sidebar-link">15. Pug ä»‹ç»å’Œåœ¨ Vue ä¸­ä½¿ç”¨</a></li><li><a href="/Knotes/blog/16.html" class="sidebar-link">16. æˆ‘æ˜¯å¦‚ä½•åœ¨ GitHub ä¸Šæäº¤ PR çš„</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-jsè®¡ç®—ä¸¤ä¸ªæ—¶é—´é—´éš”"><a href="#_1-jsè®¡ç®—ä¸¤ä¸ªæ—¶é—´é—´éš”" class="header-anchor">#</a> 1. JSè®¡ç®—ä¸¤ä¸ªæ—¶é—´é—´éš”</h1> <h2 id="_1-å‰è¨€"><a href="#_1-å‰è¨€" class="header-anchor">#</a> 1 å‰è¨€</h2> <h3 id="_1-1-ä¸šåŠ¡åœºæ™¯"><a href="#_1-1-ä¸šåŠ¡åœºæ™¯" class="header-anchor">#</a> 1.1 ä¸šåŠ¡åœºæ™¯</h3> <p>JavaScriptè®¡ç®—ä¸¤ä¸ªæ—¶é—´ç›¸éš”äº† å¤šå°‘å¹´å¤šå°‘æœˆå¤šå°‘æ—¥ã€‚æ—¶åˆ†ç§’è¿™é‡Œä¸ä½œè€ƒè™‘ã€‚</p> <h2 id="_2-å®ç°åŸç†"><a href="#_2-å®ç°åŸç†" class="header-anchor">#</a> 2 å®ç°åŸç†</h2> <h3 id="_2-1-è·å–å½“å‰æ—¶é—´"><a href="#_2-1-è·å–å½“å‰æ—¶é—´" class="header-anchor">#</a> 2.1 è·å–å½“å‰æ—¶é—´</h3> <p>è‹¥éœ€è¦å’Œå½“å‰æ—¶é—´æ¯”è¾ƒï¼Œè¿™é‡Œæä¾›å½“å‰æ—¶é—´çš„è·å–æ ¼å¼åŒ–æ–¹æ³•ã€‚æˆ‘è¿™é‡Œæ˜¯æ ¹æ®ä¼ å…¥ç±»å‹è¾“å‡ºæ—¥æœŸæˆ–è€…æ—¥æœŸ+æ—¶é—´ï¼Œå¯ä»¥æ˜æ˜¾çœ‹å‡º<code>type</code>ä¸º<code>day</code>æ—¶ï¼Œè¾“å‡ºæ—¥æœŸã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getNowDate</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> year <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> month <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">let</span> day <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> hh <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> mm <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> ss <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    month <span class="token operator">=</span> month <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span><span class="token operator">+</span> month <span class="token punctuation">:</span> month
    day <span class="token operator">=</span> day <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span><span class="token operator">+</span> day <span class="token punctuation">:</span> day

    <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'day'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> year <span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span> month <span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span> day
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> year <span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span> month <span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span> day <span class="token operator">+</span> <span class="token string">' '</span><span class="token operator">+</span> hh <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> mm <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> ss
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_2-2æ¯”è¾ƒæ—¶é—´"><a href="#_2-2æ¯”è¾ƒæ—¶é—´" class="header-anchor">#</a> 2.2æ¯”è¾ƒæ—¶é—´</h3> <p>ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œæ ¼å¼å¦‚ï¼š2008-08-08</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getDiffYmdBetweenDate</span><span class="token punctuation">(</span><span class="token parameter">sDate1<span class="token punctuation">,</span>sDate2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token function-variable function">fixDate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sDate</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> aD <span class="token operator">=</span> sDate<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> aD<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            aD<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fixZero</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>aD<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> aD<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
      
    <span class="token keyword">var</span> <span class="token function-variable function">fixZero</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> n <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span><span class="token operator">+</span>n <span class="token punctuation">:</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
      
    <span class="token keyword">var</span> <span class="token function-variable function">fixInt</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
      
    <span class="token keyword">var</span> <span class="token function-variable function">getMonthDays</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">y<span class="token punctuation">,</span>m</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> aMonthDays <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>y<span class="token operator">%</span><span class="token number">400</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>y<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> y<span class="token operator">%</span><span class="token number">100</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            aMonthDays<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> aMonthDays<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
      
    <span class="token keyword">var</span> <span class="token function-variable function">checkDate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sDate</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sTmp<span class="token punctuation">;</span>
    <span class="token keyword">var</span> aTmp<span class="token punctuation">;</span>
    sDate1 <span class="token operator">=</span> <span class="token function">fixDate</span><span class="token punctuation">(</span>sDate1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sDate2 <span class="token operator">=</span> <span class="token function">fixDate</span><span class="token punctuation">(</span>sDate2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sDate1 <span class="token operator">&gt;</span> sDate2<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'past'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> aDate1 <span class="token operator">=</span> sDate1<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    aDate1 <span class="token operator">=</span> <span class="token function">fixInt</span><span class="token punctuation">(</span>aDate1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> aDate2 <span class="token operator">=</span> sDate2<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    aDate2 <span class="token operator">=</span> <span class="token function">fixInt</span><span class="token punctuation">(</span>aDate2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è®¡ç®—ç›¸å·®çš„å¹´ä»½</span>
    <span class="token comment">/*aTmp = [aDate1[0]+1,fixZero(aDate1[1]),fixZero(aDate1[2])];
    while(aTmp.join('-') &lt;= sDate2){
        y++;
        aTmp[0]++;
    }*/</span>
    y <span class="token operator">=</span> aDate2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> aDate1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> sDate2<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>aDate2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> sDate1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>aDate1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        y <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//è®¡ç®—æœˆä»½</span>
    aTmp <span class="token operator">=</span> <span class="token punctuation">[</span>aDate1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>y<span class="token punctuation">,</span>aDate1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">fixZero</span><span class="token punctuation">(</span>aDate1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            aTmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>aTmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">fixZero</span><span class="token punctuation">(</span>aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>aTmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> sDate2<span class="token punctuation">)</span><span class="token punctuation">{</span>
            m<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//è®¡ç®—å¤©æ•°</span>
    aTmp <span class="token operator">=</span> <span class="token punctuation">[</span>aDate1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>y<span class="token punctuation">,</span>aDate1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>m<span class="token punctuation">,</span>aDate1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        aTmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">12</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>aTmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token function">getMonthDays</span><span class="token punctuation">(</span>aTmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            aTmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            aTmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        sTmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>aTmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">fixZero</span><span class="token punctuation">(</span>aTmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">fixZero</span><span class="token punctuation">(</span>aTmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>sTmp <span class="token operator">&lt;=</span> sDate2<span class="token punctuation">)</span><span class="token punctuation">{</span>
            d<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>y<span class="token punctuation">:</span>y<span class="token punctuation">,</span>m<span class="token punctuation">:</span>m<span class="token punctuation">,</span>d<span class="token punctuation">:</span>d<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†<code>y m d</code>ä¸‰ä¸ªå±æ€§ï¼Œå¯æ ¹æ®ä¸šåŠ¡è¿›è¡Œå–ç”¨å±•ç¤ºã€‚</p> <p>æ¯”è¾ƒæ—¶é—´çš„æ—¶å€™ï¼Œè‹¥<code>sDate1</code>ä¸ºå°çš„æ—¶é—´ï¼Œè¿™é‡Œç›´æ¥è¿”å›<code>past</code>ã€‚</p> <h3 id="_2-3-é¡µé¢å±•ç¤º"><a href="#_2-3-é¡µé¢å±•ç¤º" class="header-anchor">#</a> 2.3 é¡µé¢å±•ç¤º</h3> <p>è¿™é‡Œæ ¹æ®ä¸šåŠ¡ä¸åŒå¯ä»¥ä½œä¸åŒçš„å±•ç¤ºã€‚è¿™é‡Œåˆ—å‡ºè‡ªå·±çš„Vueå±•ç¤ºå¤„ç†å±•ç¤ºã€‚</p> <p>å…¶ä¸­<code>this.dataForm.hasdata</code>ä¸ºé¡µé¢çš„v-modelã€‚è¿™æ ·çš„å¤„ç†çš„æ•ˆæœæ˜¯è§‚çœ‹ç›´è§‚ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNowDate</span><span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> diffDate <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDiffYmdBetweenDate</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token keyword">let</span> hasdata <span class="token operator">=</span> <span class="token string">''</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>diffDate <span class="token operator">==</span> <span class="token string">'past'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dataForm<span class="token punctuation">.</span>hasdata <span class="token operator">=</span> <span class="token string">'å·²è¿‡æœŸ'</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>diffDate<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        hasdata <span class="token operator">+=</span> diffDate<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'å¹´'</span> <span class="token operator">+</span> diffDate<span class="token punctuation">.</span>m <span class="token operator">+</span> <span class="token string">'æœˆ'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>diffDate<span class="token punctuation">.</span>y <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>diffDate<span class="token punctuation">.</span>m <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            hasdata <span class="token operator">+=</span> diffDate<span class="token punctuation">.</span>m <span class="token operator">+</span> <span class="token string">'æœˆ'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dataForm<span class="token punctuation">.</span>hasdata <span class="token operator">=</span> hasdata <span class="token operator">+</span> diffDate<span class="token punctuation">.</span>d <span class="token operator">+</span> <span class="token string">'æ—¥'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-4-é¡µé¢æ•ˆæœ"><a href="#_2-4-é¡µé¢æ•ˆæœ" class="header-anchor">#</a> 2.4 é¡µé¢æ•ˆæœ</h3> <p><img src="https://github.com/xrkffgg/Kimg/blob/master/blog/01-1.png?raw=true" alt=""> <img src="https://github.com/xrkffgg/Kimg/blob/master/blog/01-2.png?raw=true" alt=""> <img src="https://github.com/xrkffgg/Kimg/blob/master/blog/01-3.png?raw=true" alt=""></p> <h2 id="_3-åè®°"><a href="#_3-åè®°" class="header-anchor">#</a> 3 åè®°</h2> <p><strong>æ„Ÿè°¢æ”¯æŒã€‚è‹¥ä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿å¤§å®¶æŒ‡å‡ºï¼Œå…±å‹‰ã€‚</strong></p> <p><strong>å¦‚æœè§‰å¾—ä¸é”™ï¼Œè®°å¾— ç‚¹èµ è°¢è°¢å¤§å®¶</strong> ğŸ˜‚</p> <h3 id="_3-1-å‚è€ƒèµ„æ–™"><a href="#_3-1-å‚è€ƒèµ„æ–™" class="header-anchor">#</a> 3.1 å‚è€ƒèµ„æ–™</h3> <ul><li><a href="http://www.itkeyword.com/doc/3825817034839276x780" target="_blank" rel="noopener noreferrer">www.itkeyword.com/doc/...<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="_3-2-æ—¶é—´å¤„ç†jsåº“"><a href="#_3-2-æ—¶é—´å¤„ç†jsåº“" class="header-anchor">#</a> 3.2 æ—¶é—´å¤„ç†jsåº“</h3> <p>è¿™é‡Œåˆ—ä¸¾å‡ ä¸ªjsåº“å¤‡æŸ¥æ‰¾ä½¿ç”¨ï¼Œæ’åºæ— æ„ä¹‰ã€‚</p> <ul><li>moment</li> <li>day</li> <li>date-fns</li> <li>miment</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">12/17/2019, 3:00:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Knotes/blog/2.html">2. JSå®ç°é¡µé¢æŸ¥çœ‹zipæ–‡ä»¶ä¸­çš„å†…å®¹</a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Knotes/assets/js/app.2293bb01.js" defer></script><script src="/Knotes/assets/js/3.20cef3cc.js" defer></script><script src="/Knotes/assets/js/28.abf2f445.js" defer></script>
  </body>
</html>
